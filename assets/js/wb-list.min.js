!function(t){t(function(){"use strict";var a,n=t("body"),e=function(t){t.preventDefault(),t.stopImmediatePropagation()},i=function(a){a.preventDefault(),u(t(this))},o=function(n){var e=t(this),i=e.val();i<1||wb_params.is_bridal_current_user&&(clearTimeout(a),a=setTimeout(function(){u(e,{qty:i}),e.parents(".product").find(".add_to_cart_button").attr("data-quantity",1)},1e3))},r=function(){var a=t(this);a.parents(".product").find(".add_to_cart_button").attr("data-quantity",a.val())},u=function(a,e){var i={},o=a.is("input")?a.parent():a;t.each(a.data(),function(t,a){i[t]=a}),void 0!==e&&t.extend(i,e),o.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),t.post(wb_params.ajax_url,i,function(e){var i=e.data;console.log(i),o.unblock(),i.reload?document.location=location.href:1==e.success&&(i.output&&a.replaceWith(i.output),i.trigger&&n.trigger(i.trigger),i.update_fragment&&t.each(i.update_fragment,function(a,n){t(a).replaceWith(n)}))})},c=function(){var a=t(this),n=a.data("editable"),e=a.text(),i=a.width(),o=t('<input name="temp" type="text" value="'+e+'" />').width(i);"date"==n&&o.datepicker({onClose:function(t){d(t,a,o)}}),a.hide().after(o),o.focus(),"date"!=n&&o.blur(function(){var n=t(this);d(n.val(),a,n)}).on("keypress",function(n){var e=n.which,i=t(this);13==e&&d(i.val(),a,i)})},d=function(t,a,n){var e=a.text();""!=t&&a.text(t),n.remove(),a.show(),t&&t!==e&&u(a,{action:"wb_save_bridal_data",nonce:wb_params.bridal_nonce,value:t})};!function(){n.on("click",".wb-link-disabled",e).on("click",".wb-ajax",i).on("change",'input[name="wb-qty"]',o).on("change",'.wb-item-buy input[name="quantity"]',r).on("click",".js-editable",c)}()})}(jQuery);